webpackJsonp([1],{Dd8w:function(e,t,a){"use strict";t.__esModule=!0;var s,r=a("woOf"),n=(s=r)&&s.__esModule?s:{default:s};t.default=n.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}},IlJn:function(e,t){},MSKy:function(e,t){},R4wc:function(e,t,a){var s=a("kM2E");s(s.S+s.F,"Object",{assign:a("To3L")})},To3L:function(e,t,a){"use strict";var s=a("+E39"),r=a("lktj"),n=a("1kS7"),o=a("NpIQ"),i=a("sB3e"),c=a("MU5D"),l=Object.assign;e.exports=!l||a("S82l")(function(){var e={},t={},a=Symbol(),s="abcdefghijklmnopqrst";return e[a]=7,s.split("").forEach(function(e){t[e]=e}),7!=l({},e)[a]||Object.keys(l({},t)).join("")!=s})?function(e,t){for(var a=i(e),l=arguments.length,u=1,d=n.f,p=o.f;l>u;)for(var v,m=c(arguments[u++]),h=d?r(m).concat(d(m)):r(m),g=h.length,f=0;g>f;)v=h[f++],s&&!p.call(m,v)||(a[v]=m[v]);return a}:l},V3tA:function(e,t,a){a("R4wc"),e.exports=a("FeBl").Object.assign},fqTJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),r=a.n(s),n=a("exGp"),o=a.n(n),i=a("Dd8w"),c=a.n(i),l=a("P9l9"),u=a("Za1Y"),d={name:"loginChange",components:{alertTip:u.a},data:function(){return{emailAddress:"",hasAlert:!1,alertText:""}},methods:{closeAlert:function(){this.hasAlert=!1},cancelChange:function(){this.$emit("cancelChange")},resetPassword:function(){var e=this;return o()(r.a.mark(function t(){var a,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={email:e.emailAddress},t.next=3,l.a.resetPassword(a);case 3:(s=t.sent).tip?(e.hasAlert=!0,e.alertText=s.tip):"OK"!==s.response.message&&(e.alertText=s.response.message,e.hasAlert=!0);case 5:case"end":return t.stop()}},t,e)}))()}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fullScream"},[a("div",{staticClass:"model"},[a("label",{attrs:{for:"email"}},[e._v("邮箱:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.emailAddress,expression:"emailAddress"}],attrs:{name:"email",id:"email",type:"text"},domProps:{value:e.emailAddress},on:{input:function(t){t.target.composing||(e.emailAddress=t.target.value)}}}),e._v(" "),a("button",{on:{click:e.resetPassword}},[e._v("确认")]),e._v(" "),a("button",{on:{click:e.cancelChange}},[e._v("取消")])]),e._v(" "),a("alertTip",{directives:[{name:"show",rawName:"v-show",value:e.hasAlert,expression:"hasAlert"}],attrs:{"alert-text":e.alertText},on:{closeAlert:e.closeAlert}})],1)},staticRenderFns:[]};var v=a("VU/8")(d,p,!1,function(e){a("MSKy")},"data-v-42a7279d",null).exports,m=a("2bvH"),h={name:"app",components:{LoginChange:v,Alert:u.a},data:function(){return{isRegister:!1,password:"",username:"",captchaCode:"",captchaCodeImg:"",hasAlert:!1,alertText:"",userInfo:"",hasChange:!1,emailHasChange:!1}},created:function(){this.getCaptchaCode()},methods:c()({},Object(m.b)(["login"]),{closeAlert:function(){this.hasAlert=!1},cancelChange:function(){this.hasChange=!1},resetPassword:function(){this.hasChange=!0},loginOrRegister:function(){this.isRegister=!this.isRegister},getCaptchaCode:function(){var e=this;return o()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.getCaptchaCode();case 2:a=t.sent,e.captchaCodeImg=a.code;case 4:case"end":return t.stop()}},t,e)}))()},accountLogin:function(){var e=this;return o()(r.a.mark(function t(){var a,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={username:e.username,password:e.password},e.login(),t.next=4,l.a.accountLogin(a);case 4:(s=t.sent).tip?(e.hasAlert=!0,e.alertText=s.tip):"OK"!==s.response.message?(e.alertText=s.response.message,e.hasAlert=!0):"OK"===s.response.message&&(localStorage.setItem("token",s.token),e.$router.push({name:"makePoint"}));case 6:case"end":return t.stop()}},t,e)}))()},accountRegister:function(){var e=this;return o()(r.a.mark(function t(){var a,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={captcha_code:e.captchaCode,username:e.username,password:e.password},t.next=3,l.a.CaptchaCode(a);case 3:if(e.userInfo=t.sent,"验证码不正确"!==e.userInfo.response.message){t.next=9;break}e.alertText=e.userInfo.response.message,e.hasAlert=!0,t.next=14;break;case 9:if("验证码不正确"===e.userInfo.response.message){t.next=14;break}return t.next=12,l.a.accountRegister(a);case 12:(s=t.sent).tip?(e.hasAlert=!0,e.alertText=s.tip):"OK"!==s.response.message&&(e.alertText=s.response.message,e.hasAlert=!0);case 14:case"end":return t.stop()}},t,e)}))()}})},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"loginHead"}),e._v(" "),a("div",{staticClass:"loginCenter",attrs:{align:"center"}},[a("h2",[e._v("Mappin")]),e._v(" "),a("div",[a("label",{attrs:{for:"userName"}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{placeholder:"用户名",name:"userName",id:"userName",type:"text"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),e._v(" "),a("div",[a("label",{attrs:{for:"password"}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:"密码",name:"password",id:"password",type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isRegister,expression:"isRegister"}]},[a("label",{attrs:{for:"captchaCode"}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.captchaCode,expression:"captchaCode"}],attrs:{placeholder:"验证码",name:"password",id:"captchaCode",type:"text"},domProps:{value:e.captchaCode},on:{input:function(t){t.target.composing||(e.captchaCode=t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"loginFoot"},[a("div",{on:{click:e.loginOrRegister}},[e._v(e._s(e.isRegister?"去登录":"去注册"))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isRegister,expression:"isRegister"}],attrs:{align:"center"}},[a("img",{attrs:{src:this.captchaCodeImg,alt:"img is wrong"},on:{click:e.getCaptchaCode}}),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:!0===e.isRegister,expression:"isRegister === true"}],staticClass:"defaultButton",on:{click:e.accountRegister}},[e._v("注册")])]),e._v(" "),a("div",{attrs:{align:"center"}},[a("button",{directives:[{name:"show",rawName:"v-show",value:!1===e.isRegister,expression:"isRegister === false"}],staticClass:"defaultButton",on:{click:e.accountLogin}},[e._v("登录")])]),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:!1===e.isRegister,expression:"isRegister === false"}],on:{click:e.resetPassword}},[e._v("重置密码")]),e._v(" "),a("alert",{directives:[{name:"show",rawName:"v-show",value:e.hasAlert,expression:"hasAlert"}],attrs:{"alert-text":e.alertText},on:{closeAlert:e.closeAlert}}),e._v(" "),a("login-change",{directives:[{name:"show",rawName:"v-show",value:e.hasChange,expression:"hasChange"}],on:{cancelChange:e.cancelChange}})],1)])},staticRenderFns:[]};var f=a("VU/8")(h,g,!1,function(e){a("IlJn")},"data-v-a527b720",null);t.default=f.exports},woOf:function(e,t,a){e.exports={default:a("V3tA"),__esModule:!0}}});
//# sourceMappingURL=1.6fb8259bd99bdd597376.js.map