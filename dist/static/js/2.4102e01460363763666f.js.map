{"version":3,"sources":["webpack:///./static/selectImg.png","webpack:///src/pages/index/view/watchPoint.vue","webpack:///./src/pages/index/view/watchPoint.vue?2377","webpack:///./src/pages/index/view/watchPoint.vue","webpack:///src/components/model.vue","webpack:///./src/components/model.vue?8dd3","webpack:///./src/components/model.vue","webpack:///src/components/PointInfo.vue","webpack:///./src/components/PointInfo.vue?8bb5","webpack:///./src/components/PointInfo.vue"],"names":["module","exports","watchPoint","name","components","PointInfo","AlertTip","alert_tip","Model","model","data","map","hasModel","point_lng","point_lat","hasAlert","alertText","hasPointMessage","pointInfo","markerName","pointId","infoBox","mounted","this","BMap","Map","centerAndZoom","Point","enableScrollWheelZoom","changeRoute","autoPoint","getInfoBox","methods","extends_default","Object","vuex_esm","close","removeEventListener","showInfo","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","api","sent","tip","status","message","stop","getOnePoint","_this2","_callee2","_context2","response","deletePoint","_this3","_callee3","_context3","removeOverlay","_this4","_callee4","pointPosition","_loop","i","_context4","getAllPoint","Marker","addOverlay","addEventListener","length","view_watchPoint","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","id","_l","item","key","alt","src","_s","topic","content","directives","rawName","value","expression","alert-text","on","closeAlert","closePointMessage","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","alertTip","props","lat","lng","info","files","index","maxLength","maxSize","selectImg","fileList","$refs","file","len","fileItem","size","reader","FileReader","onloadend","e","getBase64","target","result","then","url","$set","readAsDataURL","push","splice","Img","Image","dataURL","promise_default","resolve","reject","onload","canvas","document","createElement","width","height","ratio","newHeight","newWidth","getContext","drawImage","toDataURL","$emit","confirm","sendPoint","components_model","for","type","domProps","input","$event","composing","placeholder","ref","multiple","accept","change","align","click","watcher","editTopic","editContent","edit","changeWatcher","sendNewPoint","components_PointInfo"],"mappings":"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","file":"static/js/2.4102e01460363763666f.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/selectImg.png\n// module id = 9Jd5\n// module chunks = 1 2","<template>\n  <div class=\"watchPoint\">\n    <div class=\"head\"></div>\n    <div id=\"watchMap\"></div>\n    <transition name=\"fade\">\n      <div class=\"infoBox\" v-for=\"item in infoBox\" :key=\"item.id\">\n        <img alt=\"标题图\" :src=\"item.src\">\n        <span id=\"topic\">{{item.topic}}</span>\n        <span id=\"content\">{{item.content}}</span>\n      </div>\n    </transition>\n    <AlertTip :alert-text=\"alertText\" @closeAlert=\"close\" v-show=\"hasAlert\"></AlertTip>\n    <pointInfo :pointInfo=\"pointInfo\" v-if=\"hasPointMessage\" @closePointMessage=\"close\" @deletePoint=\"deletePoint\"></pointInfo>\n  </div>\n</template>\n\n<script>\nimport Model from '../../../components/model'\nimport API from '../../../api/api'\nimport AlertTip from '../../../components/alert_tip'\nimport PointInfo from '../../../components/PointInfo'\nimport { mapActions } from 'vuex'\n\nexport default {\n  name: 'watchPoint',\n\n  components: {PointInfo, AlertTip, Model},\n\n  data () {\n    return {\n      map: '',\n      hasModel: false,\n      point_lng: '',\n      point_lat: '',\n      hasAlert: '',\n      alertText: '',\n      hasPointMessage: false,\n      pointInfo: '',\n      markerName: '',\n      pointId: '',\n      infoBox: ''\n    }\n  },\n\n  mounted () {\n    // eslint-disable-next-line no-undef\n    this.map = new BMap.Map('watchMap')\n    // eslint-disable-next-line no-undef\n    this.map.centerAndZoom(new BMap.Point(116.404, 39.915), 5)\n    this.map.enableScrollWheelZoom(true)\n    this.changeRoute('watchPoint')\n    this.autoPoint()\n    this.getInfoBox()\n  },\n\n  methods: {\n    ...mapActions(['changeRoute']),\n\n    close () {\n      this.hasModel = false\n      this.hasAlert = false\n      this.hasPointMessage = false\n      this.map.removeEventListener('click', this.showInfo)\n    },\n\n    async getInfoBox () {\n      this.infoBox = await API.getInfoBox()\n      if (this.infoBox.tip) {\n        this.hasAlert = true\n        this.alertText = this.pointInfo.tip\n      } else if (this.infoBox.status) {\n        this.hasAlert = true\n        this.alertText = this.infoBox.message\n      }\n    },\n\n    async getOnePoint (markerName) {\n      this.pointInfo = await API.getOnePoint(markerName)\n      if (this.pointInfo.tip) {\n        this.hasAlert = true\n        this.alertText = this.pointInfo.tip\n      } else if (this.pointInfo.response.message !== '成功') {\n        this.hasAlert = true\n        this.alertText = this.pointInfo.response.message\n      }\n      this.hasPointMessage = true\n    },\n\n    async deletePoint () {\n      let response = await API.deletePoint(this.pointId)\n      if (response.tip) {\n        this.hasAlert = true\n        this.alertText = response.tip\n      } else if (response.response.message !== '成功') {\n        this.hasAlert = true\n        this.alertText = response.response.message\n      } else if (response.response.message === '成功') {\n        this.map.removeOverlay(this.markerName)\n      }\n    },\n\n    async autoPoint () {\n      let pointPosition = await API.getAllPoint()\n      if (pointPosition.tip) {\n        this.hasAlert = true\n        this.alertText = pointPosition.tip\n      } else if (pointPosition.response.message !== '成功') {\n        this.hasAlert = true\n        this.alertText = pointPosition.response.message\n      }\n      for (let i = 0; i < pointPosition.data.length; i++) {\n        let markerName = pointPosition.data[i]['id']\n        // eslint-disable-next-line no-undef\n        markerName = new BMap.Marker(new BMap.Point(pointPosition.data[i]['lng'], pointPosition.data[i]['lat']))\n        this.map.addOverlay(markerName)\n        markerName.addEventListener('click', () => {\n          this.getOnePoint(pointPosition.data[i]['id'])\n          this.pointId = pointPosition.data[i]['id']\n          this.markerName = markerName\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .watchPoint {\n    height: 100%;\n    background-color: white;\n  }\n\n  .infoBox {\n    margin: 10px auto;\n    width: 90%;\n    height: 123px;\n    border-radius: 10px;\n    box-shadow: 0 0 10px 1px rgba(0,0,0,0.15);\n    position: relative;\n  }\n\n  .infoBox img {\n    position: relative;\n    transform: translate(0, -50%);\n    top: 50%;\n    left: 10px;\n  }\n\n  #topic {\n    position: absolute;\n    left: 120px;\n    top: 25px;\n  }\n\n  #content {\n    position: absolute;\n    left: 120px;\n    bottom: 25px;\n  }\n\n  .head {\n    height: 90px;\n  }\n\n  #watchMap {\n    height: 30%;\n    position: fixed;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/index/view/watchPoint.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"watchPoint\"},[_c('div',{staticClass:\"head\"}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"watchMap\"}}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},_vm._l((_vm.infoBox),function(item){return _c('div',{key:item.id,staticClass:\"infoBox\"},[_c('img',{attrs:{\"alt\":\"标题图\",\"src\":item.src}}),_vm._v(\" \"),_c('span',{attrs:{\"id\":\"topic\"}},[_vm._v(_vm._s(item.topic))]),_vm._v(\" \"),_c('span',{attrs:{\"id\":\"content\"}},[_vm._v(_vm._s(item.content))])])}),0),_vm._v(\" \"),_c('AlertTip',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasAlert),expression:\"hasAlert\"}],attrs:{\"alert-text\":_vm.alertText},on:{\"closeAlert\":_vm.close}}),_vm._v(\" \"),(_vm.hasPointMessage)?_c('pointInfo',{attrs:{\"pointInfo\":_vm.pointInfo},on:{\"closePointMessage\":_vm.close,\"deletePoint\":_vm.deletePoint}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5a5b33f3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/index/view/watchPoint.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5a5b33f3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./watchPoint.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./watchPoint.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./watchPoint.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5a5b33f3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./watchPoint.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5a5b33f3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/index/view/watchPoint.vue\n// module id = null\n// module chunks = ","<template>\n  <transition name=\"fade\">\n    <div class=\"fullScream\">\n      <div class=\"model\">\n        <div class=\"modelCenter\">\n          <div>\n            <label for=\"topic\">名称</label>\n            <input name=\"topic\" id=\"topic\" type=\"text\" v-model=\"topic\"/>\n          </div>\n          <hr/>\n          <div>\n            <label for=\"content\"></label>\n            <textarea placeholder=\"输入文字...\" name=\"content\" id=\"content\" type=\"text\" v-model=\"content\"></textarea>\n          </div>\n          <div class=\"selectImg\">\n            <img alt=\"选择图片\" src=\"../../static/selectImg.png\">\n            <input type=\"file\" @change=\"selectImg()\" multiple accept=\"image/*\" ref=\"file\">\n          </div>\n          <div class=\"previewImg\">\n            <div v-for=\"(file) in files\" :key=\"file.id\">\n              <img :src=\"file.src\" alt=\"预览图\">\n            </div>\n          </div>\n        </div>\n        <div align=\"center\" class=\"modelFoot\">\n          <button class=\"confirm\" @click=\"confirm\">确认</button>\n          <button class=\"close\" @click=\"close\">关闭</button>\n        </div>\n      </div>\n      <alertTip v-show=\"hasAlert\" :alert-text=\"alertText\" @closeAlert=\"closeAlert\"></alertTip>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport API from '../api/api'\nimport alertTip from './alert_tip'\n\nexport default {\n  name: 'model',\n\n  components: {alertTip},\n\n  props: {\n    lat: '',\n    lng: ''\n  },\n\n  data () {\n    return {\n      topic: '',\n      content: '',\n      hasAlert: false,\n      alertText: '',\n      info: '',\n      files: [], // 文件缓存\n      index: 0, // 序列号\n      maxLength: 9, // 图片最大数量\n      maxSize: 10240000 // 图片限制为10M内\n    }\n  },\n\n  methods: {\n    selectImg () {\n      let fileList = this.$refs.file.files\n      if (fileList.length > 9) {\n        this.hasAlert = true\n        this.alertText = '最多同时上传9张图片'\n        return 0\n      }\n      for (let i = 0, len = fileList.length; i < len; i++) {\n        let fileItem = {\n          id: this.index++,\n          name: fileList[i].name,\n          size: fileList[i].size,\n          file: fileList[i]\n        }\n        // 将图片文件转成Base64\n        let reader = new FileReader()\n        reader.onloadend = e => {\n          this.getBase64(e.target.result).then(url => {\n            this.$set(fileItem, 'src', url)\n          })\n        }\n        if (fileItem.size > this.maxSize) {\n          this.hasAlert = true\n          this.alertText = '文件大小不能超过10MB'\n        } else {\n          reader.readAsDataURL(fileList[i])\n          this.files.push(fileItem)\n        }\n      }\n      this.files.splice(9)\n    },\n\n    getBase64 (url) {\n      let Img = new Image()\n      let dataURL = ''\n      Img.src = url\n      let p = new Promise(function (resolve, reject) {\n        Img.onload = function () {\n          // 要先确保图片完整获取到，这是个异步事件\n          let canvas = document.createElement('canvas') // 创建canvas元素\n          let width = Img.width // 确保canvas的尺寸和图片一样\n          let height = Img.height\n          // 默认将长宽设置为图片的原始长宽，这样在长宽不超过最大长度时就不需要再处理\n          let ratio = width / height\n          let maxLength = 100\n          let newHeight = height\n          let newWidth = width\n          // 在长宽超过最大长度时，按图片长宽比例等比缩小\n          if (width > maxLength || height > maxLength) {\n            if (width > height) {\n              newWidth = maxLength\n              newHeight = maxLength / ratio\n            } else {\n              newWidth = maxLength * ratio\n              newHeight = maxLength\n            }\n          }\n          canvas.width = newWidth\n          canvas.height = newHeight\n          canvas.getContext('2d').drawImage(Img, 0, 0, newWidth, newHeight) // 将图片绘制到canvas中\n          dataURL = canvas.toDataURL('image/jpeg', 0.5) // 转换图片为dataURL\n          resolve(dataURL)\n        }\n      })\n      return p\n    },\n\n    close () {\n      this.$emit('close')\n      this.files = []\n    },\n\n    closeAlert () {\n      this.hasAlert = false\n    },\n\n    async confirm () {\n      let data = {\n        topic: this.topic,\n        content: this.content,\n        lat: this.lat,\n        lng: this.lng,\n        url: this.files.src\n      }\n      let info = await API.sendPoint(data)\n      if (info.tip) {\n        this.hasAlert = true\n        this.alertText = info.tip\n      } else if (info.data.response.message !== '成功') {\n        this.hasAlert = true\n        this.alertText = info.data.response.message\n      } else if (info.data.response.message === '成功') {\n        this.files = []\n      }\n      this.$emit('makePoint')\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .fullScream {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    z-index: 11;\n    left: 0;\n    top: 0;\n    background-color: rgba(0, 0, 0, 0.5);\n  }\n\n  .selectImg {\n    width: 80px;\n    height: 80px;\n    position: relative;\n  }\n\n  .selectImg img {\n    width: 80px;\n    height: 80px;\n  }\n\n  .selectImg input {\n    width: 80px;\n    height: 80px;\n    opacity: 0;\n    position: absolute;\n    left: 0;\n    top: 0;\n  }\n\n  .previewImg div{\n    height: 33%;\n    width: 33%;\n    display: inline-block;\n  }\n\n  .previewImg div img {\n    border-radius: 15px;\n  }\n\n  .modelCenter {\n    width: 90%;\n    height: 85%;\n    margin: 0 auto;\n  }\n\n  input, textarea {\n    width: 75%;\n    outline: none;\n    border: none;\n  }\n\n  #topic {\n    margin-top: 10px;\n    height: 40px;\n  }\n\n  #content {\n    height: 100px;\n    width: 100%;\n  }\n\n  .close {\n    width: 50px;\n    height: 50px;\n    border-radius: 25px;\n    border: none;\n    margin: 10px;\n    outline: none;\n  }\n\n  .confirm {\n    width: 50px;\n    height: 50px;\n    border-radius: 25px;\n    border: none;\n    margin: 10px;\n    outline: none;\n    background-color: rgb(255,179,0);\n  }\n\n  .model {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: white;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/model.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{staticClass:\"fullScream\"},[_c('div',{staticClass:\"model\"},[_c('div',{staticClass:\"modelCenter\"},[_c('div',[_c('label',{attrs:{\"for\":\"topic\"}},[_vm._v(\"名称\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.topic),expression:\"topic\"}],attrs:{\"name\":\"topic\",\"id\":\"topic\",\"type\":\"text\"},domProps:{\"value\":(_vm.topic)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.topic=$event.target.value}}})]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',[_c('label',{attrs:{\"for\":\"content\"}}),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"}],attrs:{\"placeholder\":\"输入文字...\",\"name\":\"content\",\"id\":\"content\",\"type\":\"text\"},domProps:{\"value\":(_vm.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.content=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"selectImg\"},[_c('img',{attrs:{\"alt\":\"选择图片\",\"src\":require(\"../../static/selectImg.png\")}}),_vm._v(\" \"),_c('input',{ref:\"file\",attrs:{\"type\":\"file\",\"multiple\":\"\",\"accept\":\"image/*\"},on:{\"change\":function($event){return _vm.selectImg()}}})]),_vm._v(\" \"),_c('div',{staticClass:\"previewImg\"},_vm._l((_vm.files),function(file){return _c('div',{key:file.id},[_c('img',{attrs:{\"src\":file.src,\"alt\":\"预览图\"}})])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"modelFoot\",attrs:{\"align\":\"center\"}},[_c('button',{staticClass:\"confirm\",on:{\"click\":_vm.confirm}},[_vm._v(\"确认\")]),_vm._v(\" \"),_c('button',{staticClass:\"close\",on:{\"click\":_vm.close}},[_vm._v(\"关闭\")])])]),_vm._v(\" \"),_c('alertTip',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasAlert),expression:\"hasAlert\"}],attrs:{\"alert-text\":_vm.alertText},on:{\"closeAlert\":_vm.closeAlert}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a0bee746\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/model.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a0bee746\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./model.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./model.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./model.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a0bee746\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./model.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a0bee746\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/model.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class='fullScream'>\r\n    <div class='model'>\r\n      <div v-show=\"watcher\">\r\n        <div class=\"topic\">{{pointInfo.data.topic}}</div>\r\n        <div class=\"content\">{{pointInfo.data.content}}</div>\r\n      </div>\r\n      <div v-show=\"watcher === false\">\r\n        <div>\r\n          <label for=\"topic\">标题</label>\r\n          <input name=\"topic\" id=\"topic\" type=\"text\" v-model=\"editTopic\"/>\r\n        </div>\r\n        <div>\r\n          <label for=\"content\">内容</label>\r\n          <input name=\"content\" id=\"content\" type=\"text\" v-model=\"editContent\"/>\r\n        </div>\r\n      </div>\r\n      <button v-show=\"watcher\" @click=\"close\">关闭</button>\r\n      <button v-show=\"watcher\" @click=\"edit\">编辑</button>\r\n      <button v-show=\"watcher === false\" @click=\"sendNewPoint\">确定</button>\r\n      <button v-show=\"watcher === false\" @click=\"changeWatcher\">取消</button>\r\n      <button v-show=\"watcher\" @click=\"deletePoint\">删除</button>\r\n    </div>\r\n    <alertTip v-show=\"hasAlert\" :alert-text=\"alertText\" @closeAlert=\"closeAlert\"></alertTip>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport API from '../api/api'\r\nimport alertTip from './alert_tip'\r\n\r\nexport default {\r\n  name: 'PointInfo',\r\n  components: {alertTip},\r\n  data () {\r\n    return {\r\n      watcher: true,\r\n      editTopic: this.pointInfo.data.topic,\r\n      editContent: this.pointInfo.data.content,\r\n      hasAlert: '',\r\n      alertText: ''\r\n    }\r\n  },\r\n\r\n  props: {\r\n    pointInfo: {\r\n      type: Object\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    closeAlert () {\r\n      this.hasAlert = false\r\n    },\r\n\r\n    close () {\r\n      this.$emit('closePointMessage')\r\n    },\r\n\r\n    edit () {\r\n      this.watcher = false\r\n    },\r\n\r\n    changeWatcher () {\r\n      this.watcher = true\r\n    },\r\n\r\n    deletePoint () {\r\n      this.$emit('deletePoint')\r\n      this.close()\r\n    },\r\n\r\n    async sendNewPoint () {\r\n      let data = {\r\n        topic: this.editTopic,\r\n        content: this.editContent\r\n      }\r\n      let response = await API.sendNewPoint(data)\r\n      if (response.tip) {\r\n        this.hasAlert = true\r\n        this.alertText = response.tip\r\n      } else if (response.response.message !== '成功') {\r\n        this.hasAlert = true\r\n        this.alertText = response.response.message\r\n      } else if (response.response.message === '成功') {\r\n        this.$emit('closePointMessage')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .fullScream {\r\n    position: absolute;\r\n    height: 100%;\r\n    width: 100%;\r\n    left: 0;\r\n    top: 0;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n  }\r\n\r\n  .model {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    width: 30%;\r\n    height: 40%;\r\n    transform:translate(-50%, -50%);\r\n    background-color: white;\r\n  }\r\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/PointInfo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fullScream\"},[_c('div',{staticClass:\"model\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.watcher),expression:\"watcher\"}]},[_c('div',{staticClass:\"topic\"},[_vm._v(_vm._s(_vm.pointInfo.data.topic))]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_vm._v(_vm._s(_vm.pointInfo.data.content))])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.watcher === false),expression:\"watcher === false\"}]},[_c('div',[_c('label',{attrs:{\"for\":\"topic\"}},[_vm._v(\"标题\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editTopic),expression:\"editTopic\"}],attrs:{\"name\":\"topic\",\"id\":\"topic\",\"type\":\"text\"},domProps:{\"value\":(_vm.editTopic)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.editTopic=$event.target.value}}})]),_vm._v(\" \"),_c('div',[_c('label',{attrs:{\"for\":\"content\"}},[_vm._v(\"内容\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editContent),expression:\"editContent\"}],attrs:{\"name\":\"content\",\"id\":\"content\",\"type\":\"text\"},domProps:{\"value\":(_vm.editContent)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.editContent=$event.target.value}}})])]),_vm._v(\" \"),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.watcher),expression:\"watcher\"}],on:{\"click\":_vm.close}},[_vm._v(\"关闭\")]),_vm._v(\" \"),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.watcher),expression:\"watcher\"}],on:{\"click\":_vm.edit}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.watcher === false),expression:\"watcher === false\"}],on:{\"click\":_vm.sendNewPoint}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.watcher === false),expression:\"watcher === false\"}],on:{\"click\":_vm.changeWatcher}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.watcher),expression:\"watcher\"}],on:{\"click\":_vm.deletePoint}},[_vm._v(\"删除\")])]),_vm._v(\" \"),_c('alertTip',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasAlert),expression:\"hasAlert\"}],attrs:{\"alert-text\":_vm.alertText},on:{\"closeAlert\":_vm.closeAlert}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4208f2fc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/PointInfo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4208f2fc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PointInfo.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PointInfo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PointInfo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4208f2fc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PointInfo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4208f2fc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PointInfo.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}